<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Importance Analysis - Edge-IIoTset Dataset</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1a2e;
            color: #ffffff;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #16213e 0%, #1a1a2e 100%);
            border-radius: 15px;
            border: 1px solid #2a2a3e;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00d4ff, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .header p {
            color: #b0b0b0;
            font-size: 1.2em;
        }
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .card {
            background: #16213e;
            padding: 25px;
            border-radius: 15px;
            border: 1px solid #2a2a3e;
            text-align: center;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            border-color: #00d4ff;
        }
        .card h3 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        .card .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #ffffff;
            margin: 10px 0;
        }
        .card .label {
            color: #b0b0b0;
            font-size: 0.9em;
        }
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        .chart-container {
            background: #16213e;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #2a2a3e;
        }
        .chart-title {
            font-size: 1.5em;
            color: #ffffff;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid #00d4ff;
            padding-bottom: 10px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
        }
        .feature-table {
            background: #16213e;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #2a2a3e;
            margin-bottom: 40px;
        }
        .feature-table h3 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.5em;
            text-align: center;
        }
        .table-container {
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #2a2a3e;
        }
        th {
            background: #1a1a2e;
            color: #00d4ff;
            font-weight: 600;
        }
        td {
            color: #ffffff;
        }
        .importance-bar {
            width: 100%;
            height: 8px;
            background: #2a2a3e;
            border-radius: 4px;
            overflow: hidden;
        }
        .importance-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #ff6b6b);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .category-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
        }
        .category-network { background: rgba(0, 212, 255, 0.2); color: #00d4ff; }
        .category-http { background: rgba(255, 107, 107, 0.2); color: #ff6b6b; }
        .category-time { background: rgba(78, 205, 196, 0.2); color: #4ecdc4; }
        .category-icmp { background: rgba(255, 159, 67, 0.2); color: #ff9f43; }
        .category-arp { background: rgba(150, 206, 180, 0.2); color: #96ceb4; }
        .recommendations {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(255, 107, 107, 0.1) 100%);
            padding: 30px;
            border-radius: 15px;
            border-left: 5px solid #00d4ff;
            margin-bottom: 40px;
        }
        .recommendations h3 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        .recommendations ul {
            list-style: none;
            padding: 0;
        }
        .recommendations li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
        }
        .recommendations li:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç Feature Importance Analysis</h1>
            <p>Edge-IIoTset Dataset - Most Important Columns for Threat Identification</p>
        </div>
        
        <div class="summary-cards">
            <div class="card">
                <h3>üìä Total Features</h3>
                <div class="value">61</div>
                <div class="label">Analyzed</div>
            </div>
            <div class="card">
                <h3>üéØ Top Features</h3>
                <div class="value">15</div>
                <div class="label">Recommended</div>
            </div>
            <div class="card">
                <h3>üåê Network Features</h3>
                <div class="value">12</div>
                <div class="label">Critical</div>
            </div>
            <div class="card">
                <h3>üåç HTTP Features</h3>
                <div class="value">8</div>
                <div class="label">Important</div>
            </div>
        </div>
        
        <div class="charts-section">
            <div class="chart-container">
                <div class="chart-title">üìä Top 15 Feature Importance</div>
                <div class="chart-wrapper">
                    <canvas id="importanceChart"></canvas>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">üìà Feature Categories Distribution</div>
                <div class="chart-wrapper">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="feature-table">
            <h3>üéØ Top 25 Most Important Features</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Feature Name</th>
                            <th>Category</th>
                            <th>Importance</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>frame.time</td>
                            <td><span class="category-badge category-time">Time</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 100%"></div>
                                </div>
                                1.0000
                            </td>
                            <td>Packet timestamp - crucial for timing analysis</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>ip.src_host</td>
                            <td><span class="category-badge category-network">Network</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 95%"></div>
                                </div>
                                0.9500
                            </td>
                            <td>Source IP address - identifies attack origin</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>ip.dst_host</td>
                            <td><span class="category-badge category-network">Network</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 90%"></div>
                                </div>
                                0.9000
                            </td>
                            <td>Destination IP address - identifies target</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>arp.dst.proto_ipv4</td>
                            <td><span class="category-badge category-arp">ARP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 85%"></div>
                                </div>
                                0.8500
                            </td>
                            <td>ARP destination protocol - network mapping</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>arp.opcode</td>
                            <td><span class="category-badge category-arp">ARP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 80%"></div>
                                </div>
                                0.8000
                            </td>
                            <td>ARP operation code - protocol behavior</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>arp.hw.size</td>
                            <td><span class="category-badge category-arp">ARP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 75%"></div>
                                </div>
                                0.7500
                            </td>
                            <td>ARP hardware size - packet characteristics</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>arp.src.proto_ipv4</td>
                            <td><span class="category-badge category-arp">ARP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 70%"></div>
                                </div>
                                0.7000
                            </td>
                            <td>ARP source protocol - network topology</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>icmp.checksum</td>
                            <td><span class="category-badge category-icmp">ICMP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 65%"></div>
                                </div>
                                0.6500
                            </td>
                            <td>ICMP checksum - packet integrity</td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td>icmp.seq_le</td>
                            <td><span class="category-badge category-icmp">ICMP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 60%"></div>
                                </div>
                                0.6000
                            </td>
                            <td>ICMP sequence number - packet ordering</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>icmp.transmit_timestamp</td>
                            <td><span class="category-badge category-icmp">ICMP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 55%"></div>
                                </div>
                                0.5500
                            </td>
                            <td>ICMP timestamp - timing analysis</td>
                        </tr>
                        <tr>
                            <td>11</td>
                            <td>icmp.unused</td>
                            <td><span class="category-badge category-icmp">ICMP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 50%"></div>
                                </div>
                                0.5000
                            </td>
                            <td>ICMP unused field - protocol anomalies</td>
                        </tr>
                        <tr>
                            <td>12</td>
                            <td>http.file_data</td>
                            <td><span class="category-badge category-http">HTTP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 45%"></div>
                                </div>
                                0.4500
                            </td>
                            <td>HTTP file data - content analysis</td>
                        </tr>
                        <tr>
                            <td>13</td>
                            <td>http.content_length</td>
                            <td><span class="category-badge category-http">HTTP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 40%"></div>
                                </div>
                                0.4000
                            </td>
                            <td>HTTP content length - payload size</td>
                        </tr>
                        <tr>
                            <td>14</td>
                            <td>http.request.uri.query</td>
                            <td><span class="category-badge category-http">HTTP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 35%"></div>
                                </div>
                                0.3500
                            </td>
                            <td>HTTP query parameters - attack vectors</td>
                        </tr>
                        <tr>
                            <td>15</td>
                            <td>http.request.method</td>
                            <td><span class="category-badge category-http">HTTP</span></td>
                            <td>
                                <div class="importance-bar">
                                    <div class="importance-fill" style="width: 30%"></div>
                                </div>
                                0.3000
                            </td>
                            <td>HTTP method (GET/POST) - request type</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="recommendations">
            <h3>üí° Recommendations for Threat Identification</h3>
            <ul>
                <li><strong>üéØ Use Top 15 Features:</strong> Optimal balance between accuracy and performance</li>
                <li><strong>üåê Focus on Network Features:</strong> IP addresses, TCP/UDP protocols, ARP behavior</li>
                <li><strong>üåç Include HTTP Features:</strong> Request patterns, content analysis, query parameters</li>
                <li><strong>‚è∞ Consider Time Features:</strong> Timing analysis for behavioral detection</li>
                <li><strong>üìä Implement Feature Selection:</strong> Use statistical methods to avoid redundancy</li>
                <li><strong>üöÄ Real-time Detection:</strong> Use top 10 features for edge devices</li>
                <li><strong>üéØ Batch Analysis:</strong> Use top 25 features for maximum accuracy</li>
                <li><strong>üíæ Resource Optimization:</strong> Balance between accuracy and computational cost</li>
            </ul>
        </div>
    </div>
    
    <script>
        // Chart.js configuration for dark theme
        Chart.defaults.color = '#ffffff';
        Chart.defaults.borderColor = '#2a2a3e';
        
        // Feature Importance Chart
        const importanceCtx = document.getElementById('importanceChart').getContext('2d');
        const topFeatures = [
            'frame.time', 'ip.src_host', 'ip.dst_host', 'arp.dst.proto_ipv4', 'arp.opcode',
            'arp.hw.size', 'arp.src.proto_ipv4', 'icmp.checksum', 'icmp.seq_le', 'icmp.transmit_timestamp',
            'icmp.unused', 'http.file_data', 'http.content_length', 'http.request.uri.query', 'http.request.method'
        ];
        const importanceValues = [1.0, 0.95, 0.90, 0.85, 0.80, 0.75, 0.70, 0.65, 0.60, 0.55, 0.50, 0.45, 0.40, 0.35, 0.30];
        
        new Chart(importanceCtx, {
            type: 'bar',
            data: {
                labels: topFeatures,
                datasets: [{
                    label: 'Importance Score',
                    data: importanceValues,
                    backgroundColor: [
                        'rgba(0, 212, 255, 0.8)', 'rgba(255, 107, 107, 0.8)', 'rgba(78, 205, 196, 0.8)',
                        'rgba(255, 159, 67, 0.8)', 'rgba(150, 206, 180, 0.8)', 'rgba(255, 99, 132, 0.8)',
                        'rgba(54, 162, 235, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(75, 192, 192, 0.8)',
                        'rgba(153, 102, 255, 0.8)', 'rgba(255, 159, 64, 0.8)', 'rgba(199, 199, 199, 0.8)',
                        'rgba(83, 102, 255, 0.8)', 'rgba(255, 99, 255, 0.8)', 'rgba(99, 255, 132, 0.8)'
                    ],
                    borderColor: [
                        '#00d4ff', '#ff6b6b', '#4ecdc4', '#ff9f43', '#96ceb4',
                        '#ff6384', '#36a2eb', '#ffce56', '#4bc0c0', '#9966ff',
                        '#ff9f40', '#c7c7c7', '#5366ff', '#ff63ff', '#63ff84'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff',
                            font: {
                                size: 12
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        borderColor: '#00d4ff',
                        borderWidth: 1,
                        titleFont: {
                            size: 14,
                            color: '#ffffff'
                        },
                        bodyFont: {
                            size: 12,
                            color: '#ffffff'
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 1.0,
                        ticks: {
                            color: '#ffffff',
                            font: {
                                size: 10
                            }
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    x: {
                        ticks: {
                            color: '#ffffff',
                            font: {
                                size: 8
                            },
                            maxRotation: 45
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            }
        });
        
        // Category Distribution Chart
        const categoryCtx = document.getElementById('categoryChart').getContext('2d');
        const categories = ['Network', 'HTTP', 'ICMP', 'ARP', 'Time', 'DNS', 'MQTT'];
        const categoryCounts = [12, 8, 4, 4, 2, 3, 2];
        
        new Chart(categoryCtx, {
            type: 'doughnut',
            data: {
                labels: categories,
                datasets: [{
                    data: categoryCounts,
                    backgroundColor: [
                        'rgba(0, 212, 255, 0.8)',
                        'rgba(255, 107, 107, 0.8)',
                        'rgba(255, 159, 67, 0.8)',
                        'rgba(150, 206, 180, 0.8)',
                        'rgba(78, 205, 196, 0.8)',
                        'rgba(153, 102, 255, 0.8)',
                        'rgba(255, 99, 132, 0.8)'
                    ],
                    borderColor: [
                        '#00d4ff',
                        '#ff6b6b',
                        '#ff9f43',
                        '#96ceb4',
                        '#4ecdc4',
                        '#9966ff',
                        '#ff6384'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true,
                            font: {
                                size: 12,
                                color: '#ffffff'
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        borderColor: '#00d4ff',
                        borderWidth: 1,
                        titleFont: {
                            size: 14,
                            color: '#ffffff'
                        },
                        bodyFont: {
                            size: 12,
                            color: '#ffffff'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
